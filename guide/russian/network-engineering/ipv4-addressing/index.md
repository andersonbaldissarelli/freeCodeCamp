## Адресация IPv4

Знание интернет-протокола (IP) адреса является началом хорошего понимания сетей. Все компьютеры, которые связаны между собой в сети (сетях) и имеют в качестве формы связи протокол TCP / IP, должны иметь идентификационный номер, называемый IP, чтобы разговаривать друг с другом. В настоящее время используется версия V4 или IPV4, а V6 или IPV6 уже могут использоваться, но в этой статье мы будем рассматривать только IPv4.

IPv4-адреса представляют собой 32-разрядные номера, которые обычно отображаются в десятичной системе с точками, номер IP по умолчанию имеет следующий формат:

```
XXX.XXX.XXX.XXX
```

каждый XXX представляет собой десятичное целое число, которое находится в диапазоне от 0 до 255, то есть двоичное число из восьми бит от 00000000 до 11111111. Чтобы узнать, сколько чисел я могу представить, оно выглядит следующим образом: 2 ^ 8 = 256. (2, поскольку оно является двоичным или основание 2 или представлено 0 или 1.8 с помощью 8 бит). Другими словами, число чисел, которое может быть представлено, составляет 256 номеров. Поскольку существует 4 группы из 256, мы можем сделать 256 * 256 * 256 * 256 = 2 ^ 32 = 4 294 967 296 номеров. Подведение итогов IP-номера имеет 32 бита и может представлять 4 294 967 296 номеров.

Чтобы преобразовать десятичное число в двоичный код, он просто разделяет его на 2 подряд и аннотирует остальную часть деления. Например: для преобразования десятичного числа 184 в двоичный файл мы делаем так:

```
  184/2 = 92 -> 0
   92/2 = 46 -> 0
   46/2 = 23 -> 0
   23/2 = 11 -> 1
    11/2 = 5 -> 1
    5/2 = 2 -> 1
    2/2 = 0 -> 0
    1/2 = 0 -> 1
```

отмечая остатки снизу вверх, у нас есть 10111000 в двоичном формате, что равно 184 в десятичной системе. Преобразование из десятичного в двоичное выполняется следующим образом:

```
   2⁷ 2⁶ 2⁵ 2⁴ 2³ 2² 2¹ 2⁰
128 64 32 16 8 4 2 1 вычисление полномочий
   1 0 1 1 1 0 0 0 наш двоичный номер
128 + 0 + 32 + 16 + 8 + 0 + 0 + 0 умножая двоичное число на результаты степеней и добавляя результаты 184.
```

то число 192.168.0.134 ip в десятичном значении соответствует 11000000.10101000.00000000.10000110

Этот номер в дополнение к идентификации номера хоста (компьютера или оборудования с протоколом TCP / IP) также определяет, к какой сети принадлежит хост. Первые биты (слева направо) представляют собой сеть, в которой находится хост, а оставшиеся биты представляют номер хоста в сети.

## Сетевая маска

Маска сети используется для определения количества бит, которое мы можем использовать для адресации сети, и количества бит, которое мы можем использовать для адресации хостов. Он также имеет 32 бита, и мы должны установить сетевую часть на 1, а хост-часть - на 0.

```
11111111.11111111.11111111.00000000 = 255.255.255.0 или / 24
```

Номер IP с указанной выше маской будет содержать 24 бита для идентификации сети и 8 бит для идентификации хостов, т. Е. Если у меня есть IP-адрес 192.168.0.134/24, у меня есть сетевой сетевой узел 134.168.0 , Поскольку у меня есть 8 бит для идентификации хоста, у меня может быть до 2 ^ 8 - 2 = 254 хостов в сети 192.168.0. Поскольку у меня есть 24 бита для идентификации сети, у меня может быть 2 ^ 24 = 16 777 216 сетей.

Примечание. Мы всегда должны вычитать общее количество IP-адресов от хостов на 2. Для первого IP-адреса используется для идентификации сети, которая в этом случае равна 192.168.0.0, и последняя для широковещательной передачи, которая необходима при отправке того же сообщения в все устройства в локальной сети - 192.168.0.255. Затем мы сможем адресовать хосты, начиная с IP: 192.168.0.1 и заканчивая 192.168.0.254.

Другие примеры:

```
Или 11111111.11111111.00000000.00000000 = 255.255.0.0 / 16 → 2 ^ 16-2 = 65534 хосты и 2 ^ 16 = 65536 = 255.0.0.0 или сети 11111111.00000000.00000000.00000000 / 8 → 2 ^ 24-2 = 16,777,214 хозяева и 2 ^ 8 = 256 сетей
```

Мы также можем:

```
11111111.11111111.11111111.11100000 = 255.255.255.224 или / 2 → 27 ^ 5 - 2, хосты и 30 = 2 ^ 27 = 134 217 728 сети или 11111111.11111111.11111100.00000000 = 255.255.252.0 / 22 → 2 ^ 18-2 = 2 ^ хозяева и тысяча двадцать-два 22 = 4 144 304 сети
```

Ниже мы приводим пример того, что сеть / 20 трансформируется в 16 сетей / 24

```
187.0.176 / 24 187.0.176 / 23 187.0.176 / 22 187.0.176 / 21 187.0.176 / 20
187.0.177 / 24
187.0.178 / 24 187.0.178 / 23
187.0.179 / 24
187.0.180 / 24 187.0.180 / 23 187.0.180 / 22
187.0.181 / 24
187.0.182 / 24 187.0.182 / 23
187.0.183 / 24
187.0.184 / 24 187.0.184 / 23 187.0.184 / 22 187.0.184 / 21
187.0.185 / 24
187.0.186 / 24 187.0.186 / 23
187.0.187 / 24
187.0.188 / 24 187.0.188 / 23 187.0.188 / 22
187.0.189 / 24
187.0.190 / 24 187.0.190 / 23
187.0.191 / 24
```

Хост может напрямую разговаривать с другими хостами, если они находятся в одной сети. Для того, чтобы поговорить с хостами в других сетях, необходимо, чтобы есть один или несколько шлюзов, соединяющих сети.

У ip-адреса есть некоторые детали для наблюдения.

- Первый IP-номер диапазона используется для сети, а последний используется для трансляции и не может использоваться на хостах.
- Номер ip 127.0.0.1 используется для идентификации localhost
- Сети 10/8 176.16 / 16 и 192.168 / 24 являются частными сетями

## Определения

- общедоступный IP-IP-номер, который можно маршрутизировать в Интернете
- частный IP-номер IP, который нельзя маршрутизировать в Интернете и предназначен для использования в частных сетях
- Недопустимый IP-номер, который не существует, например: 350.152.854.1
- Исправлен или статический IP-IP-номер, назначенный хосту, и не будет изменяться каждый раз
- Динамический IP-IP-номер, который назначается динамически и может быть изменен с каждым присваиванием

## Ссылки

http://grsecurity.com.br/apostilas/TCP/training-networking-tcpip.pdf

http://pages.di.unipi.it/ricci/501302.pdf




